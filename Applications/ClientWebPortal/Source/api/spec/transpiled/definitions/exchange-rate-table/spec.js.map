{"version":3,"sources":["../../../src/definitions/exchange-rate-table/spec.js"],"names":["describe","beforeAll","usdEntry","cadEntry","currencyDatabase","add","currencyPair","parse","exchangeRate","exchangeRateTable","it","apply","counterExchangeRates","exchangeRates","get","expect","toBe","rate","baseCurrencyId","counterCurrencyId","find","base","toNumber","counter"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,SAAS,mBAAT,EAA8B,YAAW;AACvCC,YAAU,YAAW;AACnB;AACA,QAAIC,WAAW,oCAA0B,yBAAe,GAAf,CAA1B,EAA+C,KAA/C,EAAsD,GAAtD,CAAf;AACA,QAAIC,WAAW,oCAA0B,yBAAe,GAAf,CAA1B,EAA+C,KAA/C,EAAsD,GAAtD,CAAf;AACA,SAAKC,gBAAL,GAAwB,gCAAxB;AACA,SAAKA,gBAAL,CAAsBC,GAAtB,CAA0BH,QAA1B;AACA,SAAKE,gBAAL,CAAsBC,GAAtB,CAA0BF,QAA1B;AACA,SAAKG,YAAL,GAAoB,uBAAaC,KAAb,CAAmB,SAAnB,EAA8B,KAAKH,gBAAnC,CAApB;AACA,SAAKI,YAAL,GAAoB,2BAAiB,KAAKF,YAAtB,EAAoC,IAApC,CAApB;;AAEA,SAAKG,iBAAL,GAAyB,iCAAzB;AACD,GAXD;;AAaAC,KAAG,sBAAH,EAA2B,YAAW;AACpC,SAAKD,iBAAL,CAAuBJ,GAAvB,CAA2BM,KAA3B,CAAiC,KAAKF,iBAAtC,EAAyD,CAAC,KAAKD,YAAN,CAAzD;AACA,QAAII,uBAAuB,KAAKH,iBAAL,CAAuBI,aAAvB,CAAqCC,GAArC,CAAyC,GAAzC,CAA3B;AACA,QAAIN,eAAeI,qBAAqBE,GAArB,CAAyB,GAAzB,CAAnB;AACAC,WAAO,IAAP,EAAaC,IAAb,CAAkBR,aAAaS,IAA/B;AACD,GALD;;AAOAP,KAAG,iDAAH,EAAsD,YAAW;AAC/D,QAAIQ,iBAAiB,yBAAe,GAAf,CAArB;AACA,QAAIC,oBAAoB,yBAAe,GAAf,CAAxB;AACA,QAAIb,eAAe,2BAAiBY,cAAjB,EAAiCC,iBAAjC,CAAnB;AACA,QAAIX,eAAe,KAAKC,iBAAL,CAAuBW,IAAvB,CAA4BT,KAA5B,CAAkC,KAAKF,iBAAvC,EAA0D,CAACH,YAAD,CAA1D,CAAnB;AACAS,WAAO,IAAP,EAAaC,IAAb,CAAkBR,aAAaS,IAA/B;AACAF,WAAO,GAAP,EAAYC,IAAZ,CAAiBR,aAAaF,YAAb,CAA0Be,IAA1B,CAA+BC,QAA/B,EAAjB;AACAP,WAAO,GAAP,EAAYC,IAAZ,CAAiBR,aAAaF,YAAb,CAA0BiB,OAA1B,CAAkCD,QAAlC,EAAjB;AACD,GARD;;AAUAZ,KAAG,mDAAH,EAAwD,YAAW;AACjE,QAAIQ,iBAAiB,yBAAe,GAAf,CAArB;AACA,QAAIC,oBAAoB,yBAAe,GAAf,CAAxB;AACA,QAAIb,eAAe,2BAAiBY,cAAjB,EAAiCC,iBAAjC,CAAnB;AACA,QAAIX,eAAe,KAAKC,iBAAL,CAAuBW,IAAvB,CAA4BT,KAA5B,CAAkC,KAAKF,iBAAvC,EAA0D,CAACH,YAAD,CAA1D,CAAnB;AACAS,WAAO,CAAP,EAAUC,IAAV,CAAeR,aAAaS,IAA5B;AACAF,WAAO,GAAP,EAAYC,IAAZ,CAAiBR,aAAaF,YAAb,CAA0Be,IAA1B,CAA+BC,QAA/B,EAAjB;AACAP,WAAO,GAAP,EAAYC,IAAZ,CAAiBR,aAAaF,YAAb,CAA0BiB,OAA1B,CAAkCD,QAAlC,EAAjB;AACD,GARD;AASD,CAxCD","file":"spec.js","sourcesContent":["import ExchangeRate from '../../../../dist/definitions/exchange-rate';\nimport Money from '../../../../dist/definitions/money';\nimport ExchangeRateTable from '../../../../dist/definitions/exchange-rate-table';\nimport CurrencyDatabase from '../../../../dist/definitions/currency-database';\nimport CurrencyDatabaseEntry from '../../../../dist/definitions/currency-database-entry';\nimport CurrencyId from '../../../../dist/definitions/currency-id';\nimport CurrencyPair from '../../../../dist/definitions/currency-pair';\n\ndescribe(\"ExchangeRateTable\", function() {\n  beforeAll(function() {\n    // initialize an exchange rate\n    let usdEntry = new CurrencyDatabaseEntry(new CurrencyId(840), 'USD', '$');\n    let cadEntry = new CurrencyDatabaseEntry(new CurrencyId(124), 'CAD', '$');\n    this.currencyDatabase = new CurrencyDatabase();\n    this.currencyDatabase.add(usdEntry);\n    this.currencyDatabase.add(cadEntry);\n    this.currencyPair = CurrencyPair.parse('USD/CAD', this.currencyDatabase);\n    this.exchangeRate = new ExchangeRate(this.currencyPair, 0.25);\n\n    this.exchangeRateTable = new ExchangeRateTable();\n  });\n\n  it(\"Add an exchange rate\", function() {\n    this.exchangeRateTable.add.apply(this.exchangeRateTable, [this.exchangeRate]);\n    let counterExchangeRates = this.exchangeRateTable.exchangeRates.get(840);\n    let exchangeRate = counterExchangeRates.get(124);\n    expect(0.25).toBe(exchangeRate.rate);\n  });\n\n  it(\"Find an exchange rate - currency in right order\", function() {\n    let baseCurrencyId = new CurrencyId(840);\n    let counterCurrencyId = new CurrencyId(124);\n    let currencyPair = new CurrencyPair(baseCurrencyId, counterCurrencyId);\n    let exchangeRate = this.exchangeRateTable.find.apply(this.exchangeRateTable, [currencyPair]);\n    expect(0.25).toBe(exchangeRate.rate);\n    expect(840).toBe(exchangeRate.currencyPair.base.toNumber());\n    expect(124).toBe(exchangeRate.currencyPair.counter.toNumber());\n  });\n\n  it(\"Find an exchange rate - currency in reverse order\", function() {\n    let baseCurrencyId = new CurrencyId(124);\n    let counterCurrencyId = new CurrencyId(840);\n    let currencyPair = new CurrencyPair(baseCurrencyId, counterCurrencyId);\n    let exchangeRate = this.exchangeRateTable.find.apply(this.exchangeRateTable, [currencyPair]);\n    expect(4).toBe(exchangeRate.rate);\n    expect(124).toBe(exchangeRate.currencyPair.base.toNumber());\n    expect(840).toBe(exchangeRate.currencyPair.counter.toNumber());\n  });\n});\n"]}